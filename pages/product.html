<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Produk | GIVASTORE.ID</title>
    <meta name="description" content="Beli produk digital murah dan terpercaya di GIVASTORE">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" href="../image/icon.jpg" type="image/jpeg">
    
    <style>
        @font-face {
            font-family: 'Pricedown';
            src: url('../pricedown bl.woff2') format('woff2');
            font-weight: normal;
            font-style: normal;
        }

        /* ==================== VARIABLE WARNA & RESET ==================== */
        :root {
            --primary: #0A1931;
            --primary-alt: #152C5B;
            --accent: #1E40AF;
            --secondary: #3B82F6;
            --success: #10B981;
            --error: #EF4444;
            --warning: #F59E0B;
            --text-dark: #0F172A;
            --text: #1F2937;
            --text-light: #64748B;
            --bg-light: #F8FAFC;
            --bg-gradient: linear-gradient(135deg, #F8FAFC 0%, #EEF2FF 55%, #F8FAFC 100%);
            --light: #FFFFFF;
            --light-gray: #F1F5F9;
            --gray: #E2E8F0;
            --border: rgba(15, 23, 42, 0.10);
            --shadow: 0 4px 12px rgba(2, 6, 23, 0.08);
            --card-shadow-hover: 0 10px 30px rgba(30, 64, 175, 0.15);
            --glass-bg: rgba(255, 255, 255, 0.85);
            --glass-border: rgba(255, 255, 255, 0.55);
            --radius: 12px;
            --radius-lg: 16px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body.dark-mode {
            --primary: #0A1931;
            --primary-alt: #152C5B;
            --accent: #3B82F6;
            --secondary: #60A5FA;
            --text-dark: #F8FAFC;
            --text: #E2E8F0;
            --text-light: #94A3B8;
            --bg-light: #0B1220;
            --bg-gradient: linear-gradient(135deg, #0B1220 0%, #0F1B33 55%, #0B1220 100%);
            --light: #111827;
            --light-gray: #1F2937;
            --gray: #374151;
            --border: rgba(255, 255, 255, 0.1);
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
            --card-shadow-hover: 0 10px 30px rgba(0, 0, 0, 0.6);
            --glass-bg: rgba(17, 24, 39, 0.85);
        }

        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
            font-family: 'Poppins', sans-serif; 
        }

        body {
            background: var(--bg-gradient);
            color: var(--text);
            overflow-x: hidden;
            min-height: 100vh;
            font-size: 14px;
            line-height: 1.5;
        }

        /* ==================== NAVBAR (OPTIMIZED) ==================== */
        .navbar {
            position: sticky; 
            top: 0; 
            z-index: 50; 
            width: 100%;
            background: var(--glass-bg); 
            border-bottom: 1px solid var(--border);
            backdrop-filter: blur(12px); 
            -webkit-backdrop-filter: blur(12px);
        }

        .navbar-container { 
            max-width: 1200px; 
            margin: 0 auto; 
        }

        .navbar-content { 
            display: flex; 
            height: 70px; 
            justify-content: space-between; 
            align-items: center; 
            padding: 0 2rem; 
        }

        .navbar-left { 
            display: flex; 
            align-items: center; 
            gap: 1.5rem; 
        }
        
        /* Desktop Menu */
        .desktop-menu {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-left: 2rem;
        }
        
        .desktop-menu-item {
            text-decoration: none;
            color: var(--text);
            font-weight: 500;
            font-size: 0.9rem;
            padding: 0.5rem 1rem;
            border-radius: var(--radius);
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .desktop-menu-item:hover,
        .desktop-menu-item.active {
            color: var(--accent);
            background: rgba(59, 130, 246, 0.1);
        }
        
        .navbar-brand { 
            display: flex; 
            align-items: center; 
            gap: 0.75rem; 
            text-decoration: none; 
        }
        
        .logo-image { 
            width: 40px; 
            height: 40px; 
            border-radius: 8px; 
            object-fit: cover; 
        }
        
        .logo-light { display: block; } 
        .logo-dark { display: none; }
        body.dark-mode .logo-light { display: none; } 
        body.dark-mode .logo-dark { display: block; }
        
        .brand-text {
            font-family: 'Pricedown', sans-serif; 
            font-size: 1.6rem; 
            color: var(--text-dark);
            letter-spacing: 0.5px;
        }
        
        body.dark-mode .brand-text { color: #FFFFFF; }
        
        .navbar-right { 
            display: flex; 
            gap: 0.75rem; 
            align-items: center; 
        }
        
        .navbar-button {
            border: 1px solid var(--border); 
            background: var(--light); 
            color: var(--text-dark);
            padding: 8px 16px; 
            border-radius: var(--radius); 
            font-weight: 600; 
            font-size: 0.9rem;
            cursor: pointer; 
            display: flex; 
            align-items: center; 
            gap: 0.5rem; 
            height: 38px;
            transition: var(--transition);
        }
        
        .navbar-button:hover {
            background: var(--light-gray);
            transform: translateY(-1px);
        }
        
        /* Mobile Menu (hidden on desktop) */
        .mobile-menu {
            display: none;
        }
        
        .navbar-menu-button {
            display: none;
            background: none;
            border: none;
            color: var(--text);
            font-size: 1.2rem;
            cursor: pointer;
            padding: 0.5rem;
        }

        /* ==================== LAYOUT UTAMA ==================== */
        .main-container {
            display: flex;
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 2rem;
            gap: 2rem;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Desktop Sidebar */
        .desktop-sidebar {
            flex: 0 0 280px;
            position: sticky;
            top: 90px;
            height: fit-content;
        }
        
        .sidebar-card {
            background: var(--light);
            border-radius: var(--radius-lg);
            border: 1px solid var(--border);
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .sidebar-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--card-shadow-hover);
        }
        
        .sidebar-card h3 {
            font-size: 1rem;
            margin-bottom: 1rem;
            color: var(--text-dark);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .sidebar-card p {
            font-size: 0.85rem;
            color: var(--text-light);
            line-height: 1.5;
            margin-bottom: 1rem;
        }
        
        .feature-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 0.75rem;
            padding: 0.5rem;
            border-radius: 8px;
            background: var(--light-gray);
        }
        
        .feature-item i {
            color: var(--accent);
            font-size: 0.9rem;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(37, 99, 235, 0.1);
            border-radius: 6px;
        }
        
        .feature-item span {
            font-size: 0.85rem;
            color: var(--text);
        }
        
        /* Main Content */
        .main-content {
            flex: 1;
            min-width: 0;
        }

        /* ==================== PRODUCT HEADER ==================== */
        .product-header { 
            margin-bottom: 2rem; 
        }
        
        .product-banner {
            position: relative; 
            height: 240px; 
            border-radius: var(--radius-lg); 
            overflow: hidden;
            box-shadow: var(--shadow); 
            border: 1px solid var(--border);
        }
        
        .banner-bg { 
            width: 100%; 
            height: 100%; 
            object-fit: cover; 
            transition: transform 0.5s ease;
        }
        
        .product-banner:hover .banner-bg {
            transform: scale(1.05);
        }
        
        .product-info {
            position: absolute; 
            inset: 0;
            background: linear-gradient(to top, rgba(10, 25, 49, 0.95) 0%, rgba(10, 25, 49, 0.4) 60%, transparent 100%);
            display: flex; 
            flex-direction: column; 
            justify-content: flex-end; 
            padding: 1.5rem;
        }
        
        .product-info-content { 
            display: flex; 
            align-items: flex-end; 
            gap: 1.5rem; 
        }
        
        .product-logo {
            width: 80px; 
            height: 80px; 
            border-radius: 12px; 
            border: 2px solid rgba(255,255,255,0.2);
            background: var(--light); 
            overflow: hidden; 
            padding: 3px;
            flex-shrink: 0;
        }
        
        .product-logo img { 
            width: 100%; 
            height: 100%; 
            object-fit: cover; 
            border-radius: 8px; 
        }
        
        .product-details { 
            flex: 1; 
        }
        
        .product-details h1 { 
            font-size: 1.6rem; 
            color: #fff; 
            margin-bottom: 0.5rem; 
            line-height: 1.2; 
            text-shadow: 0 2px 4px rgba(0,0,0,0.5); 
        }
        
        .product-details p { 
            color: rgba(255,255,255,0.9); 
            font-size: 0.95rem; 
            line-height: 1.5; 
            max-width: 600px;
        }
        
        .feature-list {
            display: flex; 
            flex-wrap: wrap;
            gap: 0.75rem; 
            margin-top: 1rem; 
        }
        
        .feature-badge {
            background: rgba(255,255,255,0.15); 
            backdrop-filter: blur(4px);
            border: 1px solid rgba(255,255,255,0.2); 
            padding: 6px 12px;
            border-radius: 20px; 
            color: #86EFAC; 
            font-size: 0.8rem; 
            font-weight: 500; 
            white-space: nowrap;
            display: flex; 
            align-items: center; 
            gap: 6px;
        }

        /* ==================== SECTION CARDS ==================== */
        .section-card {
            background: var(--light); 
            border-radius: var(--radius-lg);
            padding: 1.5rem; 
            margin-bottom: 1.5rem;
            border: 1px solid var(--border); 
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .section-card:hover { 
            border-color: var(--accent);
            transform: translateY(-2px); 
            box-shadow: var(--card-shadow-hover); 
        }

        .section-header { 
            display: flex; 
            align-items: center; 
            gap: 1rem; 
            margin-bottom: 1.5rem; 
            padding-bottom: 1rem; 
            border-bottom: 1px solid var(--border); 
        }
        
        .step-badge {
            background: rgba(37, 99, 235, 0.1); 
            color: var(--accent);
            width: 32px; 
            height: 32px; 
            border-radius: 8px;
            display: flex; 
            align-items: center; 
            justify-content: center;
            font-weight: 700; 
            font-size: 0.9rem;
            flex-shrink: 0;
        }
        
        .section-header h2 { 
            font-size: 1.2rem; 
            font-weight: 600; 
            color: var(--text-dark); 
            margin: 0; 
        }

        /* ==================== FORMS & INPUTS ==================== */
        .form-group { 
            margin-bottom: 1.5rem; 
        }
        
        .form-group label { 
            display: block; 
            margin-bottom: 0.5rem; 
            font-weight: 500; 
            font-size: 0.9rem; 
            color: var(--text-dark); 
        }
        
        .field-required::after { 
            content: "*"; 
            color: var(--error); 
            margin-left: 4px; 
        }
        
        .input-wrapper { 
            position: relative; 
        }
        
        input[type="text"], 
        input[type="tel"], 
        input[type="number"], 
        input[type="email"], 
        select {
            width: 100%; 
            padding: 0.85rem 1rem;
            background: var(--light-gray); 
            border: 1px solid var(--border);
            border-radius: var(--radius); 
            font-size: 0.95rem; 
            color: var(--text);
            transition: var(--transition); 
            outline: none;
        }
        
        input:focus, 
        select:focus {
            background: var(--light); 
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }
        
        .input-hint { 
            font-size: 0.8rem; 
            color: var(--text-light); 
            margin-top: 0.5rem; 
            display: flex; 
            align-items: center; 
            gap: 6px; 
        }

        /* ==================== PACKAGE GRID ==================== */
        .packages-grid {
            display: grid; 
            grid-template-columns: repeat(3, 1fr); 
            gap: 1rem;
        }
        
        .package-card {
            background: var(--light); 
            border: 1px solid var(--border);
            border-radius: var(--radius); 
            padding: 1.25rem; 
            text-align: center;
            cursor: pointer; 
            position: relative; 
            transition: var(--transition);
            display: flex; 
            flex-direction: column; 
            justify-content: center;
            min-height: 110px;
        }
        
        .package-card:hover { 
            border-color: var(--accent); 
            transform: translateY(-3px); 
        }
        
        /* Selected State */
        .package-card.selected {
            border-color: var(--accent);
            background: rgba(37, 99, 235, 0.05);
            box-shadow: 0 6px 16px rgba(37, 99, 235, 0.15);
        }
        
        .package-card.selected::after {
            content: '\f00c'; 
            font-family: 'Font Awesome 6 Free'; 
            font-weight: 900;
            position: absolute; 
            top: -8px; 
            right: -8px;
            background: var(--accent); 
            color: #fff; 
            width: 24px; 
            height: 24px;
            border-radius: 50%; 
            display: flex; 
            align-items: center; 
            justify-content: center;
            font-size: 0.7rem; 
            border: 2px solid var(--light);
        }
        
        .package-card h3 { 
            font-size: 0.95rem; 
            color: var(--text); 
            margin-bottom: 0.5rem; 
            font-weight: 500; 
        }
        
        .package-price { 
            font-size: 1.2rem; 
            color: var(--text-dark); 
            font-weight: 700; 
            margin-bottom: 0.5rem; 
        }
        
        .package-duration { 
            font-size: 0.75rem; 
            color: var(--text-light); 
            background: var(--bg-light); 
            padding: 4px 8px; 
            border-radius: 12px; 
            display: inline-block; 
        }
        
        .package-card.selected .package-price { 
            color: var(--accent); 
        }

        /* ==================== QUANTITY CONTROL ==================== */
        .qty-wrapper { 
            display: flex; 
            align-items: center; 
            justify-content: space-between; 
            background: var(--light-gray); 
            padding: 0.75rem; 
            border-radius: var(--radius); 
            border: 1px solid var(--border); 
            max-width: 200px; 
        }
        
        .qty-btn {
            width: 36px; 
            height: 36px; 
            border-radius: 8px; 
            border: none;
            background: var(--light); 
            color: var(--text); 
            cursor: pointer; 
            transition: var(--transition); 
            display: flex; 
            align-items: center; 
            justify-content: center;
        }
        
        .qty-btn:hover { 
            background: var(--accent); 
            color: white; 
        }
        
        .qty-value { 
            font-size: 1.1rem; 
            font-weight: 600; 
            width: 50px; 
            text-align: center; 
            border: none; 
            background: transparent; 
            color: var(--text-dark); 
        }

        /* ==================== ORDER SUMMARY SECTION ==================== */
        .order-summary {
            background: linear-gradient(135deg, rgba(37, 99, 235, 0.05) 0%, rgba(16, 185, 129, 0.05) 100%);
            border: 1px dashed var(--accent);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            margin-top: 1.5rem;
        }

        .summary-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .summary-header i {
            color: var(--accent);
            font-size: 1.2rem;
        }

        .summary-header h3 {
            font-size: 1rem;
            color: var(--text-dark);
            margin: 0;
        }

        .summary-content {
            background: var(--light);
            padding: 1.25rem;
            border-radius: var(--radius);
            border: 1px solid var(--border);
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.75rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px dashed var(--border);
        }

        .summary-row:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .summary-label {
            color: var(--text);
            font-size: 0.9rem;
        }

        .summary-value {
            color: var(--text-dark);
            font-weight: 600;
            font-size: 0.95rem;
        }

        .summary-total {
            background: rgba(37, 99, 235, 0.1);
            padding: 1rem;
            border-radius: var(--radius);
            margin-top: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .total-label {
            color: var(--text-dark);
            font-weight: 700;
            font-size: 1rem;
        }

        .total-amount {
            color: var(--accent);
            font-weight: 800;
            font-size: 1.3rem;
        }

        /* ==================== PROMO CODE ==================== */
        .promo-group { 
            display: flex; 
            gap: 0.75rem; 
        }
        
        .promo-group input {
            flex: 1;
        }
        
        .btn-apply {
            background: var(--primary); 
            color: white; 
            border: none; 
            padding: 0 1.5rem;
            border-radius: var(--radius); 
            font-weight: 600; 
            cursor: pointer; 
            transition: var(--transition);
            white-space: nowrap;
            height: 46px;
        }
        
        .btn-apply:hover { 
            background: var(--primary-alt); 
        }
        
        .promo-message { 
            margin-top: 0.75rem; 
            padding: 0.75rem; 
            border-radius: var(--radius); 
            font-size: 0.85rem; 
            display: none; 
        }
        
        .promo-message.success { 
            background: rgba(16, 185, 129, 0.1); 
            color: var(--success); 
            border: 1px solid var(--success); 
        }
        
        .promo-message.error { 
            background: rgba(239, 68, 68, 0.1); 
            color: var(--error); 
            border: 1px solid var(--error); 
        }
        
        .promo-message.info { 
            background: rgba(59, 130, 246, 0.1); 
            color: var(--accent); 
            border: 1px solid var(--accent); 
        }

        /* ==================== WHATSAPP INPUT WITH DROPDOWN ==================== */
        .wa-box {
            display: flex; 
            align-items: center; 
            background: var(--light-gray);
            border: 1px solid var(--border); 
            border-radius: var(--radius); 
            overflow: hidden;
            transition: var(--transition);
        }
        
        .wa-box:focus-within { 
            border-color: var(--success); 
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1); 
        }
        
        .wa-prefix { 
            background: #25D366; 
            color: white; 
            padding: 0.85rem 1rem; 
            font-weight: 600; 
            display: flex; 
            align-items: center; 
            gap: 8px; 
            flex-shrink: 0;
            position: relative;
        }
        
        /* Dropdown styling */
        .country-code-select {
            background: transparent;
            border: none;
            color: white;
            font-weight: 600;
            cursor: pointer;
            outline: none;
            font-size: 14px;
            padding: 2px 4px;
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            width: 70px;
            position: relative;
        }
        
        .country-code-select option {
            background: #25D366;
            color: white;
            padding: 10px;
            font-weight: 600;
        }
        
        /* Custom dropdown arrow */
        .wa-prefix::after {
            content: '\f0d7';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            color: rgba(255, 255, 255, 0.8);
            font-size: 12px;
            margin-left: 2px;
            pointer-events: none;
        }
        
        .wa-box input { 
            border: none; 
            background: transparent; 
            border-radius: 0; 
            padding-left: 1rem; 
            flex: 1;
            color: var(--text);
            font-size: 14px;
            outline: none;
        }
        
        /* Hover effect for dropdown */
        .country-code-select:hover {
            opacity: 0.9;
        }
        
        /* Dark mode support */
        body.dark-mode .country-code-select {
            color: white;
        }
        
        body.dark-mode .country-code-select option {
            background: var(--primary);
            color: var(--text);
        }

        /* ==================== FIXED FOOTER ==================== */
        .fixed-footer {
            position: fixed; 
            bottom: 0; 
            left: 0; 
            right: 0;
            background: rgba(255, 255, 255, 0.95); 
            backdrop-filter: blur(16px);
            padding: 1rem 2rem; 
            border-top: 1px solid var(--border); 
            z-index: 99;
            box-shadow: 0 -4px 20px rgba(0,0,0,0.05);
        }
        
        body.dark-mode .fixed-footer { 
            background: rgba(17, 24, 39, 0.95); 
        }
        
        .fixed-footer-content { 
            max-width: 1200px; 
            margin: 0 auto; 
            display: flex; 
            align-items: center; 
            gap: 1rem; 
        }
        
        .error-toast {
            flex: 1;
            background: #FEF2F2; 
            color: #991B1B; 
            padding: 0.75rem;
            border-radius: var(--radius); 
            border: 1px solid #FECACA; 
            text-align: center;
            font-size: 0.85rem; 
            display: none; 
        }
        
        .btn-pay {
            min-width: 280px; 
            border: none; 
            border-radius: var(--radius);
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            color: white; 
            padding: 1rem 2rem; 
            font-size: 1rem; 
            font-weight: 700;
            cursor: pointer; 
            transition: var(--transition);
            display: flex; 
            justify-content: center; 
            align-items: center; 
            gap: 0.75rem;
            opacity: 0.7; 
            pointer-events: none;
        }
        
        .btn-pay.enabled { 
            opacity: 1; 
            pointer-events: all; 
        }
        
        .btn-pay.enabled:hover { 
            transform: translateY(-2px); 
            box-shadow: 0 8px 20px rgba(37, 99, 235, 0.3); 
        }
        
        /* ==================== HELP FLOAT ==================== */
        .help-float {
            position: fixed; 
            bottom: 100px; 
            right: 30px;
            width: 56px; 
            height: 56px; 
            border-radius: 50%;
            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
            color: white; 
            display: flex; 
            align-items: center; 
            justify-content: center;
            font-size: 1.5rem; 
            box-shadow: 0 4px 12px rgba(37, 211, 102, 0.4);
            z-index: 90; 
            cursor: pointer; 
            transition: var(--transition);
            text-decoration: none;
        }
        
        .help-float:hover { 
            transform: scale(1.1); 
            box-shadow: 0 6px 16px rgba(37, 211, 102, 0.6);
        }

        /* ==================== FOOTER ==================== */
        footer {
            background: var(--light);
            color: var(--text);
            padding: 3rem 2rem 2rem;
            margin-top: 4rem;
            border-top: 1px solid var(--border);
        }

        .footer-container {
            max-width: 1200px;
            margin: auto;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
        }

        .footer-section {
            display: flex;
            flex-direction: column;
        }

        .footer-logo {
            font-family: 'Pricedown', 'Poppins', sans-serif;
            font-size: 1.8rem;
            font-weight: normal;
            margin-bottom: 1rem;
            color: var(--text-dark);
        }

        .footer-tagline {
            color: var(--text-light);
            font-size: 0.85rem;
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        .footer-heading {
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--text-dark);
            position: relative;
            padding-bottom: 0.5rem;
        }

        .footer-heading::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 40px;
            height: 2px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            border-radius: 2px;
        }

        .footer-links {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .footer-links a {
            color: var(--text-light);
            text-decoration: none;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.85rem;
        }

        .footer-links a:hover {
            color: var(--text-dark);
        }

        .footer-social {
            display: flex;
            gap: 0.75rem;
            margin-top: 1rem;
        }

        .footer-social a {
            width: 36px;
            height: 36px;
            display: grid;
            place-items: center;
            border-radius: 8px;
            background: var(--light);
            border: 1px solid var(--border);
            transition: var(--transition);
            color: var(--text-dark);
            text-decoration: none;
        }

        .footer-social a:hover {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
            transform: translateY(-2px);
        }

        .footer-bottom {
            margin: 2rem auto 0;
            padding-top: 1.5rem;
            border-top: 1px solid var(--border);
            text-align: center;
            color: var(--text-light);
            font-size: 0.8rem;
        }

        .payment-methods {
            display: flex;
            justify-content: center;
            gap: 0.75rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }

        .payment-method {
            padding: 0.4rem 0.75rem;
            border-radius: 8px;
            background: var(--light);
            border: 1px solid var(--border);
            color: var(--text-dark);
            font-weight: 600;
            font-size: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.4rem;
        }

        /* ==================== LOADING STATES ==================== */
        .loading-skeleton {
            background: linear-gradient(90deg, var(--light-gray) 25%, var(--gray) 50%, var(--light-gray) 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }

        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        /* ==================== RESPONSIVE ==================== */
        @media (max-width: 1024px) {
            .main-container {
                padding: 0 1.5rem;
            }
            
            .footer-content {
                grid-template-columns: repeat(2, 1fr);
                gap: 2rem;
            }
        }
        
        @media (max-width: 768px) {
            .main-container {
                flex-direction: column;
                padding: 0 1rem;
                gap: 1.5rem;
                margin: 1rem auto;
            }
            
            .desktop-sidebar {
                display: none;
            }
            
            .desktop-menu {
                display: none;
            }
            
            .navbar-menu-button {
                display: flex;
            }
            
            .navbar-content {
                padding: 0 1rem;
            }
            
            .mobile-menu {
                display: block;
                position: fixed; 
                top: 70px; 
                left: 0; 
                width: 240px; 
                background: var(--glass-bg);
                backdrop-filter: blur(16px); 
                border-right: 1px solid var(--border); 
                border-bottom: 1px solid var(--border);
                border-radius: 0 0 16px 0; 
                z-index: 45; 
                opacity: 0; 
                visibility: hidden;
                transform: translateX(-10px); 
                transition: var(--transition);
            }
            
            .mobile-menu.open { 
                opacity: 1; 
                visibility: visible; 
                transform: translateX(0); 
            }
            
            .mobile-menu-item {
                display: flex; 
                align-items: center; 
                gap: 1rem; 
                padding: 1rem 1.25rem;
                text-decoration: none; 
                color: var(--text); 
                border-bottom: 1px solid var(--border);
                font-weight: 500;
            }
            
            .packages-grid { 
                grid-template-columns: repeat(2, 1fr); 
                gap: 0.75rem;
            }
            
            .product-banner { 
                height: 200px; 
            }
            
            .product-logo { 
                width: 60px; 
                height: 60px; 
            }
            
            .product-details h1 { 
                font-size: 1.3rem; 
            }
            
            .fixed-footer {
                padding: 1rem;
            }
            
            .fixed-footer-content { 
                flex-direction: column; 
                align-items: stretch;
                gap: 0.75rem;
            }
            
            .error-toast { 
                margin-bottom: 0.5rem; 
            }
            
            .btn-pay { 
                width: 100%; 
                min-width: auto;
            }
            
            .wa-prefix {
                padding: 0.85rem 0.75rem;
            }
            
            .country-code-select {
                width: 60px;
                font-size: 13px;
            }
            
            .footer-content {
                grid-template-columns: 1fr;
                text-align: center;
                gap: 2rem;
            }
            
            .footer-section {
                text-align: center;
            }
            
            .footer-heading::after {
                left: 50%;
                transform: translateX(-50%);
            }
            
            .footer-links a {
                justify-content: center;
            }
            
            .footer-social {
                justify-content: center;
            }
            
            .help-float {
                bottom: 90px;
                right: 20px;
                width: 50px;
                height: 50px;
            }
            
            .order-summary {
                padding: 1.25rem;
            }
        }
        
        @media (max-width: 480px) {
            .packages-grid {
                grid-template-columns: 1fr;
            }
            
            .product-banner {
                height: 180px;
            }
            
            .product-info {
                padding: 1rem;
            }
            
            .section-card {
                padding: 1.25rem;
            }
            
            .feature-list {
                gap: 0.5rem;
            }
            
            .feature-badge {
                font-size: 0.7rem;
                padding: 4px 10px;
            }
            
            .wa-prefix {
                padding: 0.85rem 0.5rem;
            }
            
            .country-code-select {
                width: 55px;
                font-size: 12px;
                padding: 2px;
            }
            
            .order-summary {
                padding: 1rem;
            }
        }
    </style>
</head>
<body>

    <nav class="navbar">
        <div class="navbar-container">
            <div class="navbar-content">
                <div class="navbar-left">
                    <button class="navbar-menu-button" id="mobileMenuButton" aria-label="Toggle menu">
                        <i class="fas fa-bars"></i>
                    </button>
                    <a href="../index.html" class="navbar-brand">
                        <img src="../image/logo-light.png" alt="GIVASTORE Logo" class="logo-image logo-light">
                        <img src="../image/logo-dark.png" alt="GIVASTORE Logo" class="logo-image logo-dark">
                        <span class="brand-text">GIVASTORE</span>
                    </a>
                    
                    <!-- Desktop Menu -->
                    <div class="desktop-menu">
                        <a href="../index.html" class="desktop-menu-item"><i class="fas fa-home"></i> Home</a>
                        <a href="../kontak.html" class="desktop-menu-item"><i class="fas fa-envelope"></i> Kontak</a>
                        <a href="../caraorder.html" class="desktop-menu-item"><i class="fas fa-shopping-cart"></i> Cara Order</a>
                        <a href="https://whatsapp.com/channel/0029Vb7Ff3HAu3aNjiRSIw2g" target="_blank" class="desktop-menu-item"><i class="fas fa-star"></i> Testimoni</a>
                        <a href="https://whatsapp.com/channel/0029Vb7Ff3HAu3aNjiRSIw2g" target="_blank" class="desktop-menu-item"><i class="fas fa-percentage"></i> Info Promo</a>
                    </div>
                </div>
                <div class="navbar-right">
                    <button class="navbar-button dark-mode-toggle" id="darkModeToggle">
                        <i class="fas fa-moon mode-icon"></i>
                        <span>Mode Gelap</span>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile Menu -->
        <div class="mobile-menu" id="mobileMenu">
            <a href="../index.html" class="mobile-menu-item"><i class="fas fa-home"></i> Home</a>
            <a href="../kontak.html" class="mobile-menu-item"><i class="fas fa-envelope"></i> Kontak</a>
            <a href="../caraorder.html" class="mobile-menu-item"><i class="fas fa-shopping-cart"></i> Cara Order</a>
            <a href="https://whatsapp.com/channel/0029Vb7Ff3HAu3aNjiRSIw2g" target="_blank" class="mobile-menu-item"><i class="fas fa-star"></i> Testimoni</a>
            <a href="https://whatsapp.com/channel/0029Vb7Ff3HAu3aNjiRSIw2g" target="_blank" class="mobile-menu-item"><i class="fas fa-percentage"></i> Info Promo</a>
        </div>
    </nav>

    <div class="main-container">
        <!-- Desktop Sidebar -->
        <aside class="desktop-sidebar">
            <div class="sidebar-card">
                <h3><i class="fas fa-shield-alt"></i> Keamanan Transaksi</h3>
                <p>Semua transaksi dijamin aman dengan berbagai metode pembayaran terpercaya.</p>
            </div>
            
            <div class="sidebar-card">
                <h3><i class="fas fa-bolt"></i> Keunggulan</h3>
                <div class="feature-item">
                    <i class="fas fa-rocket"></i>
                    <span>Proses Cepat (1-5 Menit)</span>
                </div>
                <div class="feature-item">
                    <i class="fas fa-history"></i>
                    <span>Layanan 24/7</span>
                </div>
                <div class="feature-item">
                    <i class="fas fa-headset"></i>
                    <span>Support Responsif</span>
                </div>
                <div class="feature-item">
                    <i class="fas fa-gift"></i>
                    <span>Garansi Produk</span>
                </div>
            </div>
            
            <div class="sidebar-card">
                <h3><i class="fas fa-question-circle"></i> Butuh Bantuan?</h3>
                <p>Hubungi admin kami melalui WhatsApp untuk konsultasi atau bantuan teknis.</p>
                <a href="https://wa.me/6285189139082" target="_blank" style="margin-top: 1rem; display: block;">
                    <button class="btn-apply" style="width: 100%;">
                        <i class="fab fa-whatsapp"></i> Chat Admin
                    </button>
                </a>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div class="product-header">
                <div class="product-banner">
                    <img id="banner-image" src="https://via.placeholder.com/1200x240/0A1931/FFFFFF?text=Loading..." alt="Product Banner" class="banner-bg">
                    <div class="product-info">
                        <div class="product-info-content">
                            <div class="product-logo">
                                <img id="product-logo" src="https://via.placeholder.com/150/1E40AF/FFFFFF?text=..." alt="Product Logo">
                            </div>
                            <div class="product-details">
                                <h1 id="product-name">Memuat Produk...</h1>
                                <p id="product-description">Mohon tunggu sebentar...</p>
                                <div class="feature-list">
                                    <span class="feature-badge"><i class="fas fa-bolt"></i> Proses Cepat</span>
                                    <span class="feature-badge"><i class="fas fa-shield-alt"></i> Garansi</span>
                                    <span class="feature-badge"><i class="fas fa-headset"></i> Support</span>
                                    <span class="feature-badge"><i class="fas fa-clock"></i> 24/7</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="container">
                <!-- Data Akun Section -->
                <div class="section-card" id="account-data-section">
                    <div class="section-header">
                        <div class="step-badge">1</div>
                        <h2>Data Akun Tujuan</h2>
                    </div>
                    <div id="dynamic-fields-container">
                        <div class="form-group">
                            <label>Memuat Form...</label>
                            <div class="loading-skeleton" style="height: 45px; border-radius: var(--radius);"></div>
                        </div>
                    </div>
                </div>

                <!-- Package Selection -->
                <div class="section-card">
                    <div class="section-header">
                        <div class="step-badge">2</div>
                        <h2>Pilih Nominal / Paket</h2>
                    </div>
                    <div id="packages-container" class="packages-grid">
                        <div style="grid-column: 1/-1; text-align: center; padding: 2rem; color: var(--text-light);">
                            <i class="fas fa-spinner fa-spin"></i> Memuat paket...
                        </div>
                    </div>
                </div>

                <!-- Quantity & Order Summary -->
                <div class="section-card">
                    <div class="section-header">
                        <div class="step-badge">3</div>
                        <h2>Jumlah & Ringkasan Pesanan</h2>
                    </div>
                    
                    <div class="form-group">
                        <label>Jumlah Pembelian</label>
                        <div class="qty-wrapper">
                            <button class="qty-btn" id="minus-btn"><i class="fas fa-minus"></i></button>
                            <input type="number" id="qty-input" class="qty-value" value="1" min="1" readonly>
                            <button class="qty-btn" id="plus-btn"><i class="fas fa-plus"></i></button>
                        </div>
                    </div>

                    <!-- Order Summary -->
                    <div class="order-summary">
                        <div class="summary-header">
                            <i class="fas fa-receipt"></i>
                            <h3>Ringkasan Pesanan</h3>
                        </div>
                        
                        <div class="summary-content">
                            <div class="summary-row">
                                <span class="summary-label">Produk</span>
                                <span class="summary-value" id="summary-product">-</span>
                            </div>
                            <div class="summary-row">
                                <span class="summary-label">Harga Satuan</span>
                                <span class="summary-value" id="summary-price">Rp 0</span>
                            </div>
                            <div class="summary-row">
                                <span class="summary-label">Jumlah</span>
                                <span class="summary-value" id="summary-quantity">1 pcs</span>
                            </div>
                            <div class="summary-row" id="summary-promo-row" style="display: none;">
                                <span class="summary-label">Diskon</span>
                                <span class="summary-value" id="summary-discount" style="color: var(--success);">0%</span>
                            </div>
                            <div class="summary-total">
                                <span class="total-label">Total Pembayaran</span>
                                <span class="total-amount" id="summary-total">Rp 0</span>
                            </div>
                        </div>
                        
                        <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px dashed var(--border);">
                            <p style="font-size: 0.85rem; color: var(--text-light); text-align: center;">
                                <i class="fas fa-info-circle"></i> Metode pembayaran dapat dipilih di halaman selanjutnya.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Contact Confirmation -->
                <div class="section-card">
                    <div class="section-header">
                        <div class="step-badge">4</div>
                        <h2>Konfirmasi Kontak</h2>
                    </div>

                    <div class="form-group">
                        <label>Punya Kode Promo?</label>
                        <div class="promo-group">
                            <input type="text" id="promo-code" placeholder="Masukkan kode (Opsional)">
                            <button class="btn-apply" id="apply-promo">Gunakan</button>
                        </div>
                        <div class="promo-message" id="promo-message"></div>
                    </div>

                    <div class="form-group">
                        <label class="field-required">Nomor WhatsApp</label>
                        <div class="wa-box">
                            <div class="wa-prefix" id="country-code-dropdown">
                                <i class="fab fa-whatsapp"></i>
                                <select class="country-code-select" id="country-code-select">
                                    <option value="62">+62 (ID)</option>
                                    <option value="1">+1 (US)</option>
                                    <option value="44">+44 (UK)</option>
                                    <option value="91">+91 (IN)</option>
                                    <option value="60">+60 (MY)</option>
                                    <option value="65">+65 (SG)</option>
                                </select>
                            </div>
                            <input type="tel" inputmode="numeric" id="contact-whatsapp" placeholder="81234xxxx" autocomplete="tel">
                        </div>
                        <div class="input-hint"><i class="fas fa-shield-alt"></i> Nomor ini digunakan untuk mengirim bukti transaksi & bantuan jika ada kendala.</div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- FOOTER -->
    <footer>
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">GIVASTORE</div>
                    <p class="footer-tagline">Tempat terbaik untuk produk digital murah dan terpercaya. Layanan cepat 24/7 dengan berbagai metode pembayaran.</p>
                    <div class="footer-social">
                        <a href="https://wa.me/6285189139082" target="_blank" aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                        <a href="https://instagram.com/givastore.id" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="https://t.me/givastoreid" target="_blank" aria-label="Telegram"><i class="fab fa-telegram"></i></a>
                        <a href="mailto:xyzopedia@gmail.com" aria-label="Email"><i class="fas fa-envelope"></i></a>
                    </div>
                </div>
                <div class="footer-section">
                    <h3 class="footer-heading">Navigasi</h3>
                    <div class="footer-links">
                        <a href="../index.html"><i class="fas fa-home"></i> Home</a>
                        <a href="../kontak.html"><i class="fas fa-envelope"></i> Kontak</a>
                        <a href="../caraorder.html"><i class="fas fa-shopping-cart"></i> Cara Order</a>
                        <a href="https://whatsapp.com/channel/0029Vb7Ff3HAu3aNjiRSIw2g" target="_blank"><i class="fas fa-star"></i> Testimoni</a>
                        <a href="https://whatsapp.com/channel/0029Vb7Ff3HAu3aNjiRSIw2g" target="_blank"><i class="fas fa-percentage"></i> Info Promo</a>
                    </div>
                </div>
                <div class="footer-section">
                    <h3 class="footer-heading">Kontak Kami</h3>
                    <div class="footer-links">
                        <a href="https://wa.me/6285189139082" target="_blank"><i class="fab fa-whatsapp"></i> WhatsApp: 6285189139082</a>
                        <a href="https://instagram.com/givastore.id" target="_blank"><i class="fab fa-instagram"></i> Instagram: givastore.id</a>
                        <a href="https://t.me/givastoreid" target="_blank"><i class="fab fa-telegram"></i> Telegram: givastoreid</a>
                        <a href="mailto:xyzopedia@gmail.com"><i class="fas fa-envelope"></i> Email: xyzopedia@gmail.com</a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <div class="payment-methods">
                    <div class="payment-method"><i class="fas fa-qrcode"></i> QRIS</div>
                    <div class="payment-method"><i class="fab fa-cc-visa"></i> Visa/Mastercard</div>
                    <div class="payment-method"><i class="fas fa-university"></i> Bank Transfer</div>
                    <div class="payment-method"><i class="fas fa-wallet"></i> E-Wallet</div>
                </div>
                <p>&copy; 2025 GIVASTORE - All Rights Reserved</p>
                <p style="margin-top: 0.5rem; font-size: 0.8rem; color: var(--text-light);">
                    Jual produk digital murah & terpercaya dengan berbagai metode pembayaran
                </p>
            </div>
        </div>
    </footer>

    <!-- WhatsApp Float Button -->
    <a href="https://wa.me/6285189139082?text=Halo%20Admin%20GIVASTORE%2C%20saya%20butuh%20bantuan%20untuk%20pemesanan" target="_blank" class="help-float">
        <i class="fab fa-whatsapp"></i>
    </a>

    <!-- Fixed Order Footer -->
    <div class="fixed-footer">
        <div class="fixed-footer-content">
            <div class="error-toast" id="error-banner">Silakan lengkapi form pemesanan.</div>
            <button class="btn-pay" id="order-button" disabled>
                <span id="total-price-text">Lanjut ke Pembayaran</span>
                <i class="fas fa-arrow-right"></i>
            </button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Hapus notifikasi Telegram
            // DOM elements
            const mobileMenuButton = document.getElementById('mobileMenuButton');
            const mobileMenu = document.getElementById('mobileMenu');
            const darkModeToggle = document.getElementById('darkModeToggle');
            const modeIcon = document.querySelector('.mode-icon');
            const qtyInput = document.getElementById('qty-input');
            const minusBtn = document.getElementById('minus-btn');
            const plusBtn = document.getElementById('plus-btn');
            const packagesContainer = document.getElementById('packages-container');
            const orderButton = document.getElementById('order-button');
            const errorBanner = document.getElementById('error-banner');
            const dynamicFieldsContainer = document.getElementById('dynamic-fields-container');
            const contactWhatsapp = document.getElementById('contact-whatsapp');
            const countryCodeSelect = document.getElementById('country-code-select');
            const promoCodeInput = document.getElementById('promo-code');
            const applyPromoBtn = document.getElementById('apply-promo');
            const promoMessage = document.getElementById('promo-message');
            const totalPriceText = document.getElementById('total-price-text');
            
            // Order summary elements
            const summaryProduct = document.getElementById('summary-product');
            const summaryPrice = document.getElementById('summary-price');
            const summaryQuantity = document.getElementById('summary-quantity');
            const summaryPromoRow = document.getElementById('summary-promo-row');
            const summaryDiscount = document.getElementById('summary-discount');
            const summaryTotal = document.getElementById('summary-total');
            
            // Product info elements
            const productNameElement = document.getElementById('product-name');
            const productDescriptionElement = document.getElementById('product-description');
            const bannerImage = document.getElementById('banner-image');
            const productLogo = document.getElementById('product-logo');

            // Variables
            let currentProductData = null;
            let selectedPackagePrice = 0;
            let selectedPackageName = '';
            let appliedPromo = null;

            // ==================== DARK MODE ====================
            const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');
            const currentTheme = localStorage.getItem('theme');
            
            if (currentTheme === 'dark' || (!currentTheme && prefersDarkScheme.matches)) {
                document.body.classList.add('dark-mode');
                if (modeIcon) {
                    modeIcon.classList.remove('fa-moon');
                    modeIcon.classList.add('fa-sun');
                }
            }

            if (darkModeToggle) {
                darkModeToggle.addEventListener('click', () => {
                    document.body.classList.toggle('dark-mode');
                    
                    if (document.body.classList.contains('dark-mode')) {
                        localStorage.setItem('theme', 'dark');
                        if (modeIcon) {
                            modeIcon.classList.remove('fa-moon');
                            modeIcon.classList.add('fa-sun');
                        }
                    } else {
                        localStorage.setItem('theme', 'light');
                        if (modeIcon) {
                            modeIcon.classList.remove('fa-sun');
                            modeIcon.classList.add('fa-moon');
                        }
                    }
                });
            }

            // ==================== MOBILE MENU ====================
            if (mobileMenuButton) {
                mobileMenuButton.addEventListener('click', () => {
                    mobileMenu.classList.toggle('open');
                });
            }

            document.addEventListener('click', (e) => {
                if (mobileMenuButton && mobileMenu && 
                    !mobileMenuButton.contains(e.target) && 
                    !mobileMenu.contains(e.target)) {
                    mobileMenu.classList.remove('open');
                }
            });

            // ==================== QUANTITY CONTROL ====================
            function updateTotalPrice() {
                if (!selectedPackagePrice) return;
                
                const quantity = parseInt(qtyInput.value) || 1;
                const totalPrice = selectedPackagePrice * quantity;
                let discountPrice = totalPrice;
                
                if (appliedPromo) {
                    discountPrice = totalPrice * (1 - appliedPromo.discount);
                    discountPrice = Math.round(discountPrice);
                    
                    // Update button text
                    totalPriceText.textContent = `Bayar Rp ${discountPrice.toLocaleString('id-ID')}`;
                    
                    // Update summary discount
                    summaryDiscount.textContent = `${(appliedPromo.discount * 100)}%`;
                    summaryPromoRow.style.display = 'flex';
                } else {
                    totalPriceText.textContent = `Bayar Rp ${totalPrice.toLocaleString('id-ID')}`;
                    summaryPromoRow.style.display = 'none';
                }
                
                // Update order summary
                updateOrderSummary(totalPrice, discountPrice, quantity);
                
                return appliedPromo ? discountPrice : totalPrice;
            }
            
            function updateOrderSummary(subtotal, total, quantity) {
                summaryProduct.textContent = selectedPackageName || '-';
                summaryPrice.textContent = `Rp ${selectedPackagePrice.toLocaleString('id-ID')}`;
                summaryQuantity.textContent = `${quantity} pcs`;
                summaryTotal.textContent = `Rp ${total.toLocaleString('id-ID')}`;
            }

            if (plusBtn) {
                plusBtn.addEventListener('click', () => {
                    let currentVal = parseInt(qtyInput.value);
                    qtyInput.value = currentVal + 1;
                    updateTotalPrice();
                    updateOrderButton();
                });
            }

            if (minusBtn) {
                minusBtn.addEventListener('click', () => {
                    let currentVal = parseInt(qtyInput.value);
                    if (currentVal > 1) {
                        qtyInput.value = currentVal - 1;
                        updateTotalPrice();
                        updateOrderButton();
                    }
                });
            }

            // ==================== PROMO CODE HANDLING ====================
            if (applyPromoBtn) {
                applyPromoBtn.addEventListener('click', applyPromoCode);
                
                if (promoCodeInput) {
                    promoCodeInput.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter') {
                            applyPromoCode();
                        }
                    });
                }
            }
            
            function applyPromoCode() {
                const promoCode = promoCodeInput.value.trim();
                
                if (!promoCode) {
                    showPromoMessage('Masukkan kode promo terlebih dahulu', 'error');
                    return;
                }
                
                showPromoMessage(`Memeriksa kode "${promoCode}"...`, 'info');
                applyPromoBtn.disabled = true;
                applyPromoBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
                
                setTimeout(() => {
                    const promoList = {
                        'DISKON10': { discount: 0.1, name: 'Diskon 10%' },
                        'GIVA50': { discount: 0.5, name: 'Diskon 50%' },
                        'NEWUSER20': { discount: 0.2, name: 'Diskon 20% New User' }
                    };
                    
                    const promoUpper = promoCode.toUpperCase();
                    
                    if (promoList[promoUpper]) {
                        appliedPromo = promoList[promoUpper];
                        showPromoMessage(` Kode promo "${appliedPromo.name}" berhasil diterapkan!`, 'success');
                        updateTotalPrice();
                    } else {
                        appliedPromo = null;
                        showPromoMessage(' Kode promo tidak valid atau sudah kadaluarsa', 'error');
                        updateTotalPrice();
                    }
                    
                    applyPromoBtn.disabled = false;
                    applyPromoBtn.innerHTML = 'Gunakan';
                }, 800);
            }
            
            function showPromoMessage(message, type) {
                if (!promoMessage) return;
                
                promoMessage.textContent = message;
                promoMessage.className = 'promo-message ' + type;
                promoMessage.style.display = 'block';
                
                setTimeout(() => {
                    promoMessage.style.display = 'none';
                }, 5000);
            }

            // ==================== LOAD PRODUCT DATA ====================
            function loadProductData() {
                console.log('Memulai load produk...');
                
                const urlParams = new URLSearchParams(window.location.search);
                const productName = urlParams.get('product');
                const productId = urlParams.get('id');
                
                if (!productName && !productId) {
                    showError('Produk tidak ditemukan');
                    return;
                }

                let productData = null;
                
                if (typeof window.productData !== 'undefined') {
                    console.log('Menggunakan data produk global');
                    productData = findProductInData(window.productData, productName, productId);
                }
                
                if (!productData && typeof semuaProduk !== 'undefined') {
                    console.log('Menggunakan data dari semuaProduk');
                    productData = findProductInData(semuaProduk, productName, productId);
                }
                
                if (!productData) {
                    console.log('Mencoba memuat dari produk.js...');
                    fetchProductDataFromJS();
                    return;
                }
                
                if (!productData) {
                    console.warn('Produk tidak ditemukan, menggunakan default');
                    productData = getDefaultProductData();
                }
                
                updateProductUI(productData);
                loadDynamicFields(productData);
                loadPackages(productData);
                
                console.log('Produk berhasil dimuat:', productData.name);
            }
            
            function findProductInData(data, productName, productId) {
                if (!data) return null;
                
                if (productId && data[productId]) {
                    return data[productId];
                }
                
                for (const key in data) {
                    const item = data[key];
                    if (item.name === productName || 
                        (productId && item.id === productId) ||
                        key.toLowerCase().includes(productName?.toLowerCase() || '')) {
                        return item;
                    }
                }
                
                return null;
            }
            
            async function fetchProductDataFromJS() {
                try {
                    const response = await fetch('../js/produk.js');
                    if (!response.ok) throw new Error('File produk.js tidak ditemukan');
                    
                    const scriptContent = await response.text();
                    const script = document.createElement('script');
                    script.textContent = scriptContent;
                    document.head.appendChild(script);
                    
                    setTimeout(() => {
                        if (typeof semuaProduk !== 'undefined') {
                            console.log('Data produk dimuat dari produk.js');
                            loadProductData();
                        } else {
                            console.error('Data produk tidak ditemukan di produk.js');
                            useFallbackProductData();
                        }
                    }, 100);
                    
                } catch (error) {
                    console.error('Gagal memuat produk.js:', error);
                    useFallbackProductData();
                }
            }
            
            function useFallbackProductData() {
                const defaultProduct = getDefaultProductData();
                updateProductUI(defaultProduct);
                loadDynamicFields(defaultProduct);
                loadPackages(defaultProduct);
            }
            
            function getDefaultProductData() {
                const urlParams = new URLSearchParams(window.location.search);
                const productName = urlParams.get('product') || 'Produk Digital';
                
                return {
                    name: productName,
                    description: 'Produk digital berkualitas dengan harga terjangkau',
                    bannerImage: 'https://via.placeholder.com/1200x300/0A1931/FFFFFF?text=' + encodeURIComponent(productName),
                    logo: 'https://via.placeholder.com/150/1E40AF/FFFFFF?text=Logo',
                    packages: [
                        { name: 'Paket 1 Bulan', price: 20000, duration: '30 hari' },
                        { name: 'Paket 3 Bulan', price: 50000, duration: '90 hari' },
                        { name: 'Paket 1 Tahun', price: 150000, duration: '365 hari' }
                    ],
                    inputFields: [
                        {
                            name: 'email',
                            label: 'Email',
                            type: 'email',
                            placeholder: 'Masukkan email Anda',
                            required: true,
                            hint: 'Email digunakan untuk aktivasi produk'
                        }
                    ]
                };
            }
            
            function updateProductUI(productData) {
                if (productNameElement) {
                    productNameElement.textContent = productData.name || 'Produk Digital';
                }
                
                if (productDescriptionElement) {
                    productDescriptionElement.textContent = productData.description || 'Produk digital berkualitas dengan harga terjangkau';
                }
                
                if (bannerImage && productData.bannerImage) {
                    bannerImage.src = productData.bannerImage;
                    bannerImage.onerror = function() {
                        this.src = 'https://via.placeholder.com/1200x300/0A1931/FFFFFF?text=' + encodeURIComponent(productData.name || 'Produk');
                    };
                }
                
                if (productLogo && productData.logo) {
                    productLogo.src = productData.logo;
                    productLogo.onerror = function() {
                        this.src = 'https://via.placeholder.com/150/1E40AF/FFFFFF?text=Logo';
                    };
                }
                
                document.title = `${productData.name || 'Produk'} | GIVASTORE`;
            }
            
            // ==================== LOAD DYNAMIC FIELDS ====================
            function loadDynamicFields(productData) {
                if (!dynamicFieldsContainer) return;
                
                dynamicFieldsContainer.innerHTML = '';
                
                if (!productData.inputFields || productData.inputFields.length === 0) {
                    const defaultField = document.createElement('div');
                    defaultField.className = 'form-group';
                    defaultField.innerHTML = `
                        <label class="field-required">Email</label>
                        <input type="email" class="account-field" name="email" placeholder="Masukkan email Anda" required>
                        <div class="input-hint">Data ini diperlukan untuk aktivasi produk</div>
                    `;
                    dynamicFieldsContainer.appendChild(defaultField);
                } else {
                    productData.inputFields.forEach(field => {
                        const fieldElement = document.createElement('div');
                        fieldElement.className = 'form-group';
                        
                        const fieldName = field.name || field.label.toLowerCase().replace(/\s+/g, '_');
                        
                        let fieldHTML = '';
                        
                        if (field.type === 'select') {
                            fieldHTML = `
                                <label ${field.required ? 'class="field-required"' : ''}>${field.label}</label>
                                <select class="account-field" name="${fieldName}" ${field.required ? 'required' : ''}>
                                    <option value="">Pilih ${field.label}</option>
                                    ${field.options.map(opt => `<option value="${opt.value}">${opt.label}</option>`).join('')}
                                </select>
                            `;
                        } else {
                            fieldHTML = `
                                <label ${field.required ? 'class="field-required"' : ''}>${field.label}</label>
                                <input type="${field.type}" class="account-field" name="${fieldName}" 
                                       placeholder="${field.placeholder}" ${field.required ? 'required' : ''}>
                            `;
                        }
                        
                        if (field.hint) {
                            fieldHTML += `<div class="input-hint">${field.hint}</div>`;
                        } else if (field.required) {
                            fieldHTML += `<div class="input-hint">Field ini wajib diisi</div>`;
                        }
                        
                        fieldElement.innerHTML = fieldHTML;
                        dynamicFieldsContainer.appendChild(fieldElement);
                    });
                }

                document.querySelectorAll('.account-field').forEach(field => {
                    field.addEventListener('input', updateOrderButton);
                    field.addEventListener('change', updateOrderButton);
                });
            }
            
            // ==================== LOAD PACKAGES ====================
            function loadPackages(productData) {
                if (!packagesContainer) return;
                
                packagesContainer.innerHTML = '';
                
                if (!productData.packages || productData.packages.length === 0) {
                    packagesContainer.innerHTML = `
                        <div style="grid-column: 1/-1; text-align: center; padding: 2rem; color: var(--text-light);">
                            <i class="fas fa-exclamation-triangle"></i> Paket tidak tersedia
                        </div>
                    `;
                    return;
                }
                
                productData.packages.forEach((pkg, index) => {
                    const packageElement = document.createElement('div');
                    packageElement.className = 'package-card';
                    packageElement.setAttribute('data-price', pkg.price);
                    packageElement.setAttribute('data-product', pkg.name);
                    
                    packageElement.innerHTML = `
                        <h3>${pkg.name}</h3>
                        <div class="package-price">Rp ${pkg.price.toLocaleString('id-ID')}</div>
                        <div class="package-duration">${pkg.duration}</div>
                    `;
                    
                    packageElement.addEventListener('click', () => {
                        document.querySelectorAll('.package-card').forEach(c => c.classList.remove('selected'));
                        packageElement.classList.add('selected');
                        
                        selectedPackagePrice = pkg.price;
                        selectedPackageName = pkg.name;
                        updateTotalPrice();
                        updateOrderButton();
                        
                        // Update summary
                        summaryProduct.textContent = pkg.name;
                        summaryPrice.textContent = `Rp ${pkg.price.toLocaleString('id-ID')}`;
                    });
                    
                    packagesContainer.appendChild(packageElement);
                    
                    if (index === 0) {
                        setTimeout(() => {
                            packageElement.classList.add('selected');
                            selectedPackagePrice = pkg.price;
                            selectedPackageName = pkg.name;
                            updateTotalPrice();
                            updateOrderButton();
                            
                            // Update summary
                            summaryProduct.textContent = pkg.name;
                            summaryPrice.textContent = `Rp ${pkg.price.toLocaleString('id-ID')}`;
                        }, 100);
                    }
                });
            }
            
            // ==================== COUNTRY CODE DROPDOWN ====================
            if (countryCodeSelect) {
                // Set default placeholder berdasarkan kode negara default
                updatePlaceholderForCountryCode('62');
                
                countryCodeSelect.addEventListener('change', function() {
                    const countryCode = this.value;
                    updatePlaceholderForCountryCode(countryCode);
                    validateWhatsappInput(contactWhatsapp);
                    updateOrderButton();
                });
            }
            
            function updatePlaceholderForCountryCode(countryCode) {
                if (!contactWhatsapp) return;
                
                switch (countryCode) {
                    case '62': // Indonesia
                        contactWhatsapp.placeholder = '81234xxxx';
                        break;
                    case '1': // USA/Canada
                        contactWhatsapp.placeholder = '5551234567';
                        break;
                    case '44': // UK
                        contactWhatsapp.placeholder = '7912345678';
                        break;
                    case '91': // India
                        contactWhatsapp.placeholder = '9876543210';
                        break;
                    case '60': // Malaysia
                        contactWhatsapp.placeholder = '123456789';
                        break;
                    case '65': // Singapore
                        contactWhatsapp.placeholder = '81234567';
                        break;
                    default:
                        contactWhatsapp.placeholder = 'Masukkan nomor';
                }
            }
            
            // ==================== VALIDATE WHATSAPP INPUT ====================
            function validateWhatsappInput(input) {
                if (!input) return;
                
                // Hanya angka yang diizinkan
                input.value = input.value.replace(/[^0-9]/g, '');
                
                const value = input.value;
                const countryCode = countryCodeSelect ? countryCodeSelect.value : '62';
                
                // Validasi berdasarkan kode negara
                let isValid = false;
                switch (countryCode) {
                    case '62': // Indonesia (9-13 digit)
                        isValid = value.length >= 9 && value.length <= 13;
                        break;
                    case '1': // USA/Canada (10 digit)
                        isValid = value.length === 10;
                        break;
                    case '44': // UK (10-11 digit)
                        isValid = value.length === 10 || value.length === 11;
                        break;
                    case '91': // India (10 digit)
                        isValid = value.length === 10;
                        break;
                    case '60': // Malaysia (9-10 digit)
                        isValid = value.length >= 9 && value.length <= 10;
                        break;
                    case '65': // Singapore (8 digit)
                        isValid = value.length === 8;
                        break;
                    default:
                        isValid = value.length >= 8 && value.length <= 12;
                }
                
                if (value.length > 0) {
                    if (isValid) {
                        input.style.borderColor = 'var(--success)';
                    } else {
                        input.style.borderColor = 'var(--error)';
                    }
                } else {
                    input.style.borderColor = 'var(--border)';
                }
                
                updateOrderButton();
            }
            
            if (contactWhatsapp) {
                contactWhatsapp.addEventListener('input', () => validateWhatsappInput(contactWhatsapp));
            }

            // ==================== UPDATE ORDER BUTTON ====================
            function updateOrderButton() {
                const selectedCard = document.querySelector('.package-card.selected');
                const contactValue = contactWhatsapp ? contactWhatsapp.value : '';
                const countryCode = countryCodeSelect ? countryCodeSelect.value : '62';
                const accountFields = document.querySelectorAll('.account-field');
                
                // Validasi nomor WhatsApp berdasarkan kode negara
                let isContactValid = false;
                if (contactValue) {
                    switch (countryCode) {
                        case '62': // Indonesia
                            isContactValid = contactValue.length >= 9 && contactValue.length <= 13;
                            break;
                        case '1': // USA/Canada
                            isContactValid = contactValue.length === 10;
                            break;
                        case '44': // UK
                            isContactValid = contactValue.length === 10 || contactValue.length === 11;
                            break;
                        case '91': // India
                            isContactValid = contactValue.length === 10;
                            break;
                        case '60': // Malaysia
                            isContactValid = contactValue.length >= 9 && contactValue.length <= 10;
                            break;
                        case '65': // Singapore
                            isContactValid = contactValue.length === 8;
                            break;
                        default:
                            isContactValid = contactValue.length >= 8 && contactValue.length <= 12;
                    }
                }
                
                // Validasi field akun
                let allFieldsValid = true;
                
                accountFields.forEach(field => {
                    if (field.required && !field.value.trim()) {
                        allFieldsValid = false;
                        field.style.borderColor = 'var(--error)';
                    } else if (field.value.trim()) {
                        field.style.borderColor = 'var(--success)';
                    } else {
                        field.style.borderColor = 'var(--border)';
                    }
                });
                
                const hasSelectedPackage = selectedCard !== null;
                const areAccountFieldsValid = allFieldsValid;
                
                if (hasSelectedPackage && isContactValid && areAccountFieldsValid) {
                    if (orderButton) {
                        orderButton.disabled = false;
                        orderButton.classList.add('enabled');
                    }
                    
                    if (errorBanner) {
                        errorBanner.textContent = ' Form sudah lengkap. Silakan lanjutkan ke pembayaran.';
                        errorBanner.style.backgroundColor = 'rgba(16, 185, 129, 0.2)';
                        errorBanner.style.borderColor = 'var(--success)';
                        errorBanner.style.color = 'var(--success)';
                        errorBanner.style.display = 'block';
                    }
                } else {
                    if (orderButton) {
                        orderButton.disabled = true;
                        orderButton.classList.remove('enabled');
                    }
                    
                    if (errorBanner) {
                        if (!hasSelectedPackage) {
                            errorBanner.textContent = ' Belum ada item produk yang dipilih.';
                        } else if (!isContactValid) {
                            if (contactValue.length === 0) {
                                errorBanner.textContent = ' Mohon masukkan nomor WhatsApp.';
                            } else {
                                const countryName = getCountryName(countryCode);
                                errorBanner.textContent = ` Nomor WhatsApp untuk ${countryName} tidak valid.`;
                            }
                        } else if (!areAccountFieldsValid) {
                            errorBanner.textContent = ' Mohon lengkapi semua data akun yang diperlukan.';
                        }
                        
                        errorBanner.style.backgroundColor = 'var(--light-gray)';
                        errorBanner.style.borderColor = 'var(--border)';
                        errorBanner.style.color = 'var(--text)';
                        errorBanner.style.display = 'block';
                    }
                }
            }
            
            function getCountryName(countryCode) {
                const countries = {
                    '62': 'Indonesia',
                    '1': 'Amerika Serikat/Kanada',
                    '44': 'Inggris',
                    '91': 'India',
                    '60': 'Malaysia',
                    '65': 'Singapura'
                };
                return countries[countryCode] || 'negara ini';
            }
            
            // ==================== ORDER BUTTON CLICK ====================
            if (orderButton) {
                orderButton.addEventListener('click', function() {
                    console.log('Tombol Lanjut ke Pembayaran diklik!');
                    
                    const selectedCard = document.querySelector('.package-card.selected');
                    const contactValue = contactWhatsapp ? contactWhatsapp.value.trim() : '';
                    const countryCode = countryCodeSelect ? countryCodeSelect.value : '62';
                    const accountFields = document.querySelectorAll('.account-field');
                    
                    if (!selectedCard) {
                        alert(' Pilih paket terlebih dahulu!');
                        return false;
                    }
                    
                    // Validasi nomor WhatsApp
                    let isContactValid = false;
                    if (contactValue) {
                        switch (countryCode) {
                            case '62':
                                isContactValid = contactValue.length >= 9 && contactValue.length <= 13;
                                break;
                            case '1':
                                isContactValid = contactValue.length === 10;
                                break;
                            case '44':
                                isContactValid = contactValue.length === 10 || contactValue.length === 11;
                                break;
                            case '91':
                                isContactValid = contactValue.length === 10;
                                break;
                            case '60':
                                isContactValid = contactValue.length >= 9 && contactValue.length <= 10;
                                break;
                            case '65':
                                isContactValid = contactValue.length === 8;
                                break;
                            default:
                                isContactValid = contactValue.length >= 8 && contactValue.length <= 12;
                        }
                    }
                    
                    if (!isContactValid) {
                        const countryName = getCountryName(countryCode);
                        alert(` Nomor WhatsApp untuk ${countryName} tidak valid!\nPastikan nomor sesuai dengan format yang benar.`);
                        return false;
                    }
                    
                    // Validasi field akun
                    const accountData = {};
                    let allFieldsValid = true;
                    
                    document.querySelectorAll('.account-field').forEach(field => {
                        const fieldName = field.name;
                        accountData[fieldName] = field.value;
                        
                        if (field.required && !field.value.trim()) {
                            allFieldsValid = false;
                            field.style.borderColor = 'var(--error)';
                        }
                    });
                    
                    if (!allFieldsValid) {
                        alert(' Lengkapi semua data akun yang diperlukan!');
                        return false;
                    }
                    
                    const productName = selectedCard.getAttribute('data-product');
                    const price = selectedCard.getAttribute('data-price');
                    const quantity = parseInt(qtyInput.value) || 1;
                    let totalPrice = parseInt(price) * quantity;
                    
                    if (appliedPromo) {
                        totalPrice = totalPrice * (1 - appliedPromo.discount);
                        totalPrice = Math.round(totalPrice);
                    }
                    
                    if (totalPrice <= 0) {
                        alert(' Total harga tidak valid!');
                        return false;
                    }
                    
                    // GENERATE ORDER ID DENGAN FORMAT YANG SAMA DI SEMUA TEMPAT
                    const timestamp = Date.now().toString().substring(5);
                    const randomNum = Math.floor(Math.random() * 1000).toString().padStart(3, '0');
                    const orderId = `GIVA-${timestamp}-${randomNum}`;
                    
                    console.log('Generated Order ID:', orderId);
                    
                    // Simpan data ke localStorage
                    const fullWhatsappNumber = `+${countryCode}${contactValue}`;
                    
                    localStorage.setItem('productName', productName);
                    localStorage.setItem('productPrice', price);
                    localStorage.setItem('customerWhatsapp', fullWhatsappNumber);
                    localStorage.setItem('customerCountryCode', countryCode);
                    localStorage.setItem('accountData', JSON.stringify(accountData));
                    
                    const orderData = {
                        order_id: orderId, // SIMPAN ORDER ID YANG SUDAH DIGENERATE
                        product: productName,
                        price: parseInt(price),
                        quantity: quantity,
                        whatsapp: contactValue,
                        countryCode: countryCode,
                        fullWhatsapp: fullWhatsappNumber,
                        accountData: accountData,
                        promoCode: promoCodeInput ? promoCodeInput.value.trim() : null,
                        appliedPromo: appliedPromo,
                        subtotal: parseInt(price) * quantity,
                        total: totalPrice,
                        timestamp: Date.now()
                    };
                    
                    localStorage.setItem('ProductOrderData', JSON.stringify(orderData));
                    
                    // Redirect ke halaman pembayaran
                    const url = `bayar.html`;
                    
                    console.log('Redirect ke halaman pembayaran:', url);
                    console.log('Order ID yang disimpan:', orderId);
                    
                    const originalText = orderButton.innerHTML;
                    orderButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Mengarahkan...';
                    orderButton.disabled = true;
                    
                    setTimeout(() => {
                        window.location.href = url;
                    }, 500);
                    
                    return false;
                });
            }
            
            // ==================== ERROR HANDLING ====================
            function showError(message) {
                if (errorBanner) {
                    errorBanner.textContent = message;
                    errorBanner.style.backgroundColor = 'rgba(239, 68, 68, 0.2)';
                    errorBanner.style.borderColor = 'var(--error)';
                    errorBanner.style.color = 'var(--error)';
                    errorBanner.style.display = 'block';
                }
            }
            
            // ==================== ANIMASI SCROLL ====================
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.section-card').forEach(card => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                card.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                observer.observe(card);
            });

            // ==================== ENTER KEY SUPPORT ====================
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' && orderButton.classList.contains('enabled')) {
                    const focusedElement = document.activeElement;
                    if (!focusedElement || (focusedElement.tagName !== 'INPUT' && focusedElement.tagName !== 'SELECT')) {
                        orderButton.click();
                    }
                }
            });

            // ==================== INITIALIZE ====================
            loadProductData();
            
            // Set default country code
            if (countryCodeSelect) {
                countryCodeSelect.value = '62';
            }
            
            setTimeout(() => {
                updateOrderButton();
                updateTotalPrice();
            }, 500);
            
            setTimeout(() => {
                const firstInput = document.querySelector('.account-field');
                if (firstInput && window.innerWidth > 768) {
                    firstInput.focus();
                }
            }, 1000);
        });
    </script>
</body>
</html>